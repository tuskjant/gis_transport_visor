import { Tsalesmanp } from './../tsalesmanp';
import { punts3 } from "../../assets/data/punts"; 


describe('Travelin Salesman Problem test', () => {
    test('get route geometry for 3 points', async () => {

        var tsp = new Tsalesmanp(punts3);
        await tsp.getRoute();
        const expectedLineString = {   
            "coordinates": [
                [2.489782, 41.689188],
                [2.489301, 41.689717],
                [2.489476, 41.692345],
                [2.490062, 41.69236],
                [2.490432, 41.692441],
                [2.490624, 41.692367],
                [2.490775, 41.69257],
                [2.490946, 41.692637],
                [2.494032, 41.692582],
                [2.494084, 41.692495],
                [2.494189, 41.692481],
                [2.494283, 41.692572],
                [2.497918, 41.694103],
                [2.498387, 41.693484],
                [2.498546, 41.693468],
                [2.498954, 41.693719],
                [2.499649, 41.694483],
                [2.499921, 41.694465],
                [2.500505, 41.694259],
                [2.500528, 41.694159],
                [2.499871, 41.693891],
                [2.499586, 41.693679],
                [2.499561, 41.693589],
                [2.499718, 41.693496],
                [2.499419, 41.693024],
                [2.498201, 41.691882],
                [2.498218, 41.691715],
                [2.498137, 41.691646],
                [2.49757, 41.691413],
                [2.497073, 41.691476],
                [2.496663, 41.691067],
                [2.497364, 41.690942],
                [2.49778, 41.690603],
                [2.49765, 41.690411],
                [2.497074, 41.689976],
                [2.496156, 41.689542],
                [2.496016, 41.689625],
                [2.495475, 41.689945],
                [2.496663, 41.691067],
                [2.497364, 41.690942],
                [2.497624, 41.69148],
                [2.498137, 41.691646],
                [2.498323, 41.69182],
                [2.498302, 41.691897],
                [2.498201, 41.691882],
                [2.498199, 41.691823],
                [2.497233, 41.691607],
                [2.496223, 41.691502],
                [2.495759, 41.691748],
                [2.495315, 41.692368],
                [2.494611, 41.692068],
                [2.495077, 41.691504],
                [2.495116, 41.691046],
                [2.493596, 41.690303],
                [2.493661, 41.690195],
                [2.493036, 41.689754],
                [2.49053, 41.688445],
                [2.489782, 41.689188]
            ],
            "type": "LineString"
            
        };
            
        expect(tsp.getGeometry()).toEqual(expectedLineString);
    });

    test('get route order', async () => {
        var expectedRouteOrder: string = "i ⇨ 1 ⇨ 2 ⇨ i";

        var tsp = new Tsalesmanp(punts3);
        await tsp.getRoute();
        expect(tsp.getRouteOrder()).toEqual(expectedRouteOrder);
    });


});
